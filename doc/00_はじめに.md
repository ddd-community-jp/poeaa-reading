# はじめに

## ディスカッションをより豊かにするためのグランドルール

- 参加者は毎回任意
    - 今回は不参加、次回は参加をするといった気軽な感じ
    - 途中参加も断然OK! まずは聞くだけでも大丈夫です！
- フィードバックを恐れない
    - マサカリは怖いと思いますが、アウトプットからのフィードバックを受け、学びを深めていきましょう
    - アウトプット7割：インプット3割の気持ちで臨みましょう！
- 経験の有る無しは気にしない
    - 自分は非経験者だから……と気後れする必要はないです
    - 堂々と意見や疑問を語りましょう
- ページ数と同時に、節のタイトルやキーワードを言って頂けるとスムーズです
- 話していない人が、率先してメモしましょう
    - このHackMDはみんなのものです。どんどん書いていきましょう:+1: :+1: :+1: 
- 気になる質問や同感するものには :+1: を末尾につけてください。
- 読んでいる場所、フォーカスをしている場所の編集は出来るだけ避けて下さい
    - HackMDはリアルタイムで更新されるのでちょっと読みにくくなります

## タイムテーブル

| 時間 | 所要時間 | 内容 |備考 |
| --------  | -------- | -------- | -------- |
| 19:50-  | -  | 集合開始     |    |
| 20:00-20:10  | 10分   | 当日の流れとグランドルールの共有  |    |
| 20:10-20:25  | 15分   | 感想記入&HackMDに書かれた皆さんの感想・気づき・疑問をもっと掘り下げたいものを、 :+1: 付けていく  |      |
| 20:25-21:55   | 90分  | 本の節ごとにディスカッション（ここでも適宜、HackMDに気づきとか書いていってもらっていいです）     |    |
|21:55-22:00 | 5分 | 次回開催日と読む範囲決めてクローズ | |


---

## まえがき（本来範囲ではないけど、気になったので読んでみた）
### 感想・気づき
- > 本書で紹介している主な項目は次の通りである
  > - エンタープライズアプリケーションのレイヤ化
  > - ドメイン（ビジネス）ロジックの構築
  > - Web ユーザーインターフェースの構築
  > - インメモリモジュール（特にオブジェクト）とリレーショナルデータベースのリンク
  > - ステートレス環境におけるセションステートの扱い
  > - 配布の原則
  - 第一部の章立てとは微妙に一致してないっぽい
  - 第一部の章立てから、さらに「本書で紹介している主な項目」という視点でまとめると、↑のようになる？
  - この本が何をどのようにまとめているのか、を俯瞰するための材料になりそう
- > 本書では触れていない項目も多い。妥当性の整理、メッセージングと非同期通信の統合、セキュリティ、エラー処理、クラスタリング、アプリケーション統合、アーキテクチャのリファクタリング、リッチクライアントユーザインタフェースの構築など、書きたいことはいくらでもある
    - このあたりにも、しっかり関心は有ったんだな（この本ではやむなく省略したものの）という感想
    - インフラストラクチャ寄りの部分やUI周りもラインナップされていて、ボブおじとは違う（隠語）感ある
- > この中でも、メッセージベースの通信は、特に重要な項目であると言えるだろう。複数のアプリケーションを統合して使う場合、非同期メッセージベース通信を使うケースが増えるからだ。
    - もしかして：Akka
        - :memo: おそらくCORBAでしょうね
        - :memo: でも、いまはAkkaの方が勉強する価値はあるかと
    - もしかして：Erlang
    - メッセージベースにとりわけ注目が寄っているのは、Smalltalkユーザーであることも関わっていたりする？（という妄想）
    - 改めてアクターモデルで検索したら[ちょっとおもしろそう（個人の感想）な項目](https://ja.wikipedia.org/wiki/%E3%82%A2%E3%82%AF%E3%82%BF%E3%83%BC%E3%83%A2%E3%83%87%E3%83%AB#%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8%E3%83%91%E3%83%83%E3%82%B7%E3%83%B3%E3%82%B0%E6%84%8F%E5%91%B3%E8%AB%96)がwikipediaにあった
- > 紹介している例は、あくまでもパターン内のアイデアを紹介・説明するためのものである。実践ですぐに利用できる解決策ではない。すべてのケースにおいて、実践で使うにはかなりの修正を必要とすることだろう。つまり、パターンは出発点としては有効だが、必ずしもそれがそのまま適用できるというものではないということだ。
    - 本書とお付き合いする上でのポイント感。こうした前提をもとに書かれている、ということを踏まえて読む必要あり。
    - 一方で、時折語られる「パターン（パタン）の希薄化」という現象が、ひょっとしてここで起こっていたりするのだろうか、と感じたり

#### 本書の対象読者
- > 本書の読者は、大きく2つのグループに分かれる。独自のソフトウェアを構築しようとしているニーズ的には比較的低い人達、そしてツールを使う、よりニーズの高い人達だ。 (...) 第3のグループとして、独自のソフトウェアを構築しようとしている人で高いニーズを持っている人たちもあるかもしれない。
    - 本書を読む上で、「自分はどのグループだろう」と考えながら読んでみるのも、一つ方法としてあり得る。:+1: 
    - ここでの「高い」「低い」はレイヤのお話だと思うが、おそらく相対的なものであって、（ここでは）低い = ハードウェアという意味では無いと思う。
        - 前の部分で「組み込みシステムや制御システム (...) これらの分野の業務をしている人にとっては、本書はあまり役に立たないかもしれない」と言っているので、少なくともハードウェアを本書で積極的に扱う意思は無さそう
        - 「ツールを作る」「ツールを使う」の関係を「低い」「高い」で表現してるっぽい
        - なので、「低い = フレームワークやライブラリ（OOSや汎用品に限らず、業務特化のものを含む）を作る人」「高い = それらを使う人」ぐらいの意味っぽい。

## アーキテクチャ

### 感想・気づき
- アーキテクチャには2つの要素があるで、「システムから個々のパーツへとどこまでのブレークダウンできること」「簡単には変更できない決定事項」は少しイメージが違った
    - 個人的には前者に近いが、用語を合わせると個々のパーツの組み合わせと協調方法というイメージだった
    - P.002の前半にはこれに近いことが書いてあるな
- 「1つのシステムに複数のアーキテクチャがあり、…」
    - OOC試聴会のphilomagiさんの考えに繋がるものがある気がする :+1: 
    - :memo: 最初は「1つのシステムのために、複数のアーキテクチャが採用候補として考えられる（が、選ぶのは一つ）」という意味で読んでたけど、原文と比較すると、←のような意味ではなさそう（↑の読み方が正しそう）。
        - > It’s also increasingly realized that there isn’t just one way to state a system’s architecture; rather, there are multiple architectures in a system, and the view of what is architecturally significant is one that can change over a system’s lifetime.
        - 色々とニュアンスを取りこぼした翻訳っぽく見える？
            - 「次第に理解されてきたことだが、あるシステムのアーキテクチャを表現する(state)方法は一つだけではない。むしろ(rather)、一つのシステム内部には複数のアーキテクチャが存在し(theare are multiple architectures in a system)、しかも、アーキテクチャ的に重要なものに対する見方(the view of what is ...)はシステムのライフタイムを越えて変化し得るものである」
        - `there are multiple architectures in a system` のあたりから、やはり「1つのシステム内部に複数のアーキテクチャ「という意味っぽい
        - `the view of what is ...` を「...にとって重要なこと」と、 `the view of` を無視して訳しているように見えるのも気になる
- 「簡単には変更できない決定事項...システムの存続期間の中で変わることがある」
    - アーキテクチャの決定時と変更時に何を考慮すべきなのかを他の方に聞いてみたい
- > だが、嫌味を言うのはこのくらいにしておこう
    - 原文におちゃめ要素
    - > But I’m pragmatic enough not to let my cynicism get in the way of attracting people to my book. :-)

### 疑問
- 「アーキテクチャとは主観的要素であり...ここで主観性が問題になるのは、思っていたよりも変更が容易であるとわかったら、それはもはやアーキテクチャではないからである。」
    - ここでいう主観的・主観性とはどういうことを指しているのかがよく理解できなかった
    - :memo: 原文では *subjective* と *subjectivity* （なので、訳の問題ではなさげ）
        - > In this posting he brought out the point that architecture is a subjective thing, a shared understanding of a system’s design by the expert developers on a project.
    - :memo: CA本の「叫ぶ」という表現がヒントになったりする？ :+1: 
        - アーキテクチャは見いだされるもの
        - 言語仕様で実装方法が変わってくる
            - モナド:Swiftは使いにくいけど、Scaleは使いやすい
                - メモリ管理の観点で使い難くしている
            - 最近はImmutableがデフォルトの言語が多い
    - :memo: アーキテクチャというのは、対象となるソフトウェアに対して人間が与える一定の認識形式（＝共通理解）であって、形態や性質を指す言葉ではない、ということと解釈:+1: 
        - :memo: ソフトウェアそれ自体が「アーキテクチャ」という形態や性質を持つのではなく、ソフトウェアの形に対して人間が一定形式の解釈（主観的）を与える（そうした解釈をする、と約束する）のであり、その解釈方法に対して「アーキテクチャ」という名前が与えられている？
        - :memo: 「ここが○○だ（ということにしよう）」「ここが△△だ（という解釈を前提にしよう）」
        - :memo: 共通理解といっても、それは各人が「同じ理解をしている」と各々考えている（そう確信している）だけで、客観的にそれが検証されるわけでもできるわけでもない、的な
        - :memo: だとすると、アーキテクチャとはそこに在るものではなく、そこから読み取るもの、とも言えそう？
    - 「何であれ重要」とは言っているけど「最も」「一番」とは言っていないので、「ドメインが重要」とは特に対立しないし異なるわけでもない（直交する）気がします
    - > 何がアーキテクチャ的で何がアーキテクチャ的でないか

## エンタープライズアプリケーション

2012年の記事ですが、HDDの容量を把握するにはいい情報かと思います。

| HDDドライブの容量 |
|:----:|
|<img src="https://xtech.nikkei.com/it/pc/article/knowhow/20120301/1042609/01_px400.jpg" width=500>|

>[HDDの記録密度はどこまで高められる？](https://xtech.nikkei.com/it/pc/article/knowhow/20120301/1042609/)から引用

### 感想・気づき

- だいぶ前提が違うなと言う印象
    - データの容量
    - おそらく化学プラント制御も今ではエンタープライズアプリケーションに近いかも
- 前提をしっかり書いてくれているのすばらしい
    - 「エンタープライズアプリケーションが対象だぞ」
    - 「ここでの"エンタープライズアプリケーション"は○○だぞ」
    - 某 R○vert・C・ナントカ さんは見習って欲しい……
- P.004の真ん中あたりのビジネスロジックの下りはツライなと言うイメージ
    - ロジックは時間とともに変化することだけが確実
    - ビジネスロジックよりも論理的ではないものはほとんどない
    - 構築を複雑にする複雑なビジネスイロジックにつながっている
    - 時間とともに変化するからこそコアドメインをモデル化することがやはり重要なのだと再認識しました
    - :memo: 時間と共に変化する（し得る）のはそうだろうという点と、一方で、その中でも変化しやすい表層的なものと、変化しにくいより原理的なものは有るよなあと思ったり
        - 「変化する」と「変化しうる」を区別したい:+1: :+1:
        - 原文だと `will` 。ニュアンス的にはどうなんだろう
            - :memo: `would`ではないので、確信的に言っていそう（し得る、ではなく、する、というニュアンスと読み取れる）
        - > because the only certain thing is that the logic will change over time.
- > ソフトウェア構築に対するあらゆる書籍の役割は、決定を下すのに役立つ情報を提供することである。
    - 方法論的。解法ではなく考え方、考える材料の提供が（おそらく本書含めた）ソフトウェア構築に対する書籍の役割、という位置づけ。
    - > この方法なるものを料理の「作り方」とか自動車の操縦の「仕方」のような一定の結果を保証してくれる一連の「手続き」と考えるとすれば、それは論外である。
      > 方法とは本来、デカルトの解析の方法やヘーゲルの弁証法がそうであったように、思考のスタイル、研究対象に立ち向かう態度のことなのである。
      >
      > 木田 元 「現象学」序章 現象学とは何か より


### 疑問

- エンタープライズアプリケーションの定義ですが、何がポイントだと思いますか?
    - 複雑なデータ処理?
    - 論理的とは言いがたいビジネスルール?
    - この両方?
    - その他?
    - :memo: おそらく、人間の活動を記録し、実現するためのアプリケーション、のことを指しているのではないかと思われます
        - :memo: 人間の活動は、例えば相手が違うと対応が違う、ということが起こり得る（いロジック？）

## エンタープライズアプリケーションの種類

### 感想・気づき
- 3つのエンタープライズアプリケーションが対比されている
    - 「B2Cのオンライン小売業」
        - 利用するユーザー数が多い
    - 「リース契約処理を自動化するシステム」
        - ビジネスロジックが複雑である
    - 「小規模な会社のシンプルな経費管理システム」
        - 極めて短期間で構築しなければいけない
        - システムが大規模になることも考慮する必要がある
- 設計に関する課題と関心の大半は、代替案をいくつか考えていくことであり、1つの代替案を採用することのトレードオフを判断することである
    - この姿勢は重要だと思った
    - 過去踏襲とか〇〇さんが言っていたとかは鵜呑みにしてはいけないと思った:+1: 
- 3つの例はそれぞれ異なる課題を抱えているので、異なる解決策になる。だから、解決策のアプローチを複数持っていないといけないというのは納得しかない
    - 同じアプリケーションでも前提が変われば解決策も変わってくると思う
    - 1つの解決策に固執していないか自省した
### 疑問

## パフォーマンスに関する考察

### 感想・気づき
- 「システム構成に重要な変更を行うと、パフォーマンスは白紙の状態に戻ってしまう」
    - とてもシビアだが確かにそうだなと感じた
- アーキテクチャ上の決定の多くはパフォーマンスに関するものである
    - この `パフォーマンス` という言葉も多くの意味を持っていると思った:+1: :+1: :+1: 
    - 個人的には、「**品質**」と近いイメージ
    - パフォーマンスで考慮する指標を挙げてくれたのは良かった。議論が曖昧にならなくて済む。
- 机上で考えるだけではダメで、実際に手を動かさないといけないことは納得しかない。FBは大事。
### 疑問

## パターン

### 感想・気づき
- パターンは実践知を抽象的に表現したものだと思っていただ、それをうまく表現してくれていると持った
    - 「パターンは生焼け状態で、常に実際のプロジェクトというオーブンで完成させないといけない」
    - パターンは抽象的に表現されているので、実際には手を加えて微調整が必要
- パターンは独立しているが、分離はしていない。
    - 確かに。複数のパターンを組み合わせることはザラにある
- パターンはユビキタス言語だと思った :+1: :+1: 
    - だから、パターンは辞書だと思っている
    - 有益か無益かじゃなくて知識のインデックスを作ること:+1: 
    - 新しいパターンも古典的なパターンからも学ぶべきことは多々あると思っている
    - 体系化や整合性まで要求されているはずなので（少なくともDDDの文脈では）
    - 名前と意味のマッピング（＝辞書）とユビキタス言語はノットイコール、というイメージ
- 「必要なのは...パターンが解決するのはどんな問題か、パターンは問題をどのように解決するかの感覚を十分に持つことである。」
    - 紹介されるパターン毎に有効な具体例はどんな場合かを議論していきたいと思った
### 疑問

## パターンの構造

### 感想・気づき

### 疑問

- 疑問ではないですが、この輪読会の進め方をどうしよう?
    - UMLはPlantUMLで良いとして言語はどうしよう?
    - コードも持ち回りで実装でいいかな?
        - そもそも、書く?

## 本書のパターンの限界

### 感想・気づき

### 疑問

----

## 放課後

###### tags: `PoEAA`